import{a as se}from"./chunk-CVNOIYDV.js";import"./chunk-ALBC5A26.js";import{a as ne,b as ae}from"./chunk-FKVLGXI2.js";import{a as ie,b as re}from"./chunk-YRSAZJY4.js";import{a as oe}from"./chunk-FILRBOXG.js";import"./chunk-SJSX4Q4C.js";import{B as Y,C as Z,D as $,H as ee,I as te,a as R,b as B,e as P,i as V,j as T,l as O,n as h,p as W,q as H,t as J,w as K,z as X}from"./chunk-2TO4QPLG.js";import{fa as j,ha as L,ja as D,la as G,ma as Q}from"./chunk-32SX6XCU.js";import{a as z}from"./chunk-5M2EVRSV.js";import"./chunk-ONLWHCXB.js";import{c as U}from"./chunk-FUEIRHMV.js";import"./chunk-3EMNHBLQ.js";import{b as A,d as N,e as q}from"./chunk-5JJHHZOZ.js";import"./chunk-WVTO5ZNJ.js";import{Bc as k,Db as f,Mb as r,Tb as c,Xb as a,Yb as o,Zb as d,bc as x,hc as _,jc as M,kb as i,lb as p,nc as S,oc as b,pc as F,sc as y,tc as l,vc as E,xa as v,xb as C,ya as I}from"./chunk-OW7OBW26.js";var le=["signInNgForm"],de=()=>["/forgot-password"];function pe(e,u){if(e&1&&(a(0,"fuse-alert",7),l(1),o()),e&2){let t=M();r("appearance","outline")("showIcon",!1)("type",t.alert.type)("@shake",t.alert.type==="error"),i(),E(" ",t.alert.message," ")}}function ce(e,u){e&1&&d(0,"mat-icon",13),e&2&&r("svgIcon","heroicons_solid:eye")}function ue(e,u){e&1&&d(0,"mat-icon",13),e&2&&r("svgIcon","heroicons_solid:eye-slash")}function fe(e,u){e&1&&(a(0,"span"),l(1," Sign in "),o())}function he(e,u){e&1&&d(0,"mat-progress-spinner",18),e&2&&r("diameter",24)("mode","indeterminate")}var me=(()=>{class e{constructor(t,n,s,m,g){this._activatedRoute=t,this._authService=n,this._formBuilder=s,this._router=m,this._snackBar=g,this.alert={type:"success",message:""},this.showAlert=!1}showError(t){this._snackBar.open(t,"Close",{duration:4e3,panelClass:["bg-red-600","text-white"],horizontalPosition:"center",verticalPosition:"top"})}ngOnInit(){this.signInForm=this._formBuilder.group({email:["",[h.required,h.email]],password:["",h.required],rememberMe:[""]})}signIn(){if(this.signInForm.invalid){let t=this.signInForm.get("email"),n=this.signInForm.get("password");t?.hasError("required")?this.showError("Email is required"):t?.hasError("email")?this.showError("Please enter a valid email address"):n?.hasError("required")?this.showError("Password is required"):this.showError("Please fill in all required fields");return}this.signInForm.disable(),this._authService.signIn(this.signInForm.value).subscribe(()=>{let t=this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/signed-in-redirect";this._router.navigateByUrl(t)},t=>{this.signInForm.enable(),this.showError("Login failed: Wrong email or password")})}static{this.\u0275fac=function(n){return new(n||e)(p(A),p(U),p(Y),p(N),p(se))}}static{this.\u0275cmp=C({type:e,selectors:[["auth-sign-in"]],viewQuery:function(n,s){if(n&1&&S(le,5),n&2){let m;b(m=F())&&(s.signInNgForm=m.first)}},decls:30,vars:16,consts:[["signInNgForm","ngForm"],["passwordField",""],[1,"flex","min-w-0","flex-auto","flex-col","items-center","sm:justify-center"],[1,"w-full","px-4","py-8","sm:bg-card","sm:w-auto","sm:rounded-2xl","sm:p-12","sm:shadow"],[1,"mx-auto","w-full","max-w-80","sm:mx-0","sm:w-80"],[1,"w-56","mx-auto"],["src","images/logo/ornafish-logo.png"],[1,"mt-8",3,"appearance","showIcon","type"],[1,"mt-8",3,"formGroup"],[1,"w-full",3,"hideRequiredMarker"],["id","email","matInput","",3,"formControlName"],["id","password","matInput","","type","password",3,"formControlName"],["mat-icon-button","","type","button","matSuffix","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"mt-1.5","inline-flex","w-full","items-center","justify-between"],[1,"-ml-2",3,"color","formControlName"],[1,"text-md","font-medium","text-primary-500","hover:underline",3,"routerLink"],["mat-flat-button","",1,"ornafish-blue-button","fuse-mat-button-large","mt-6","w-full",3,"click","color","disabled"],[3,"diameter","mode"]],template:function(n,s){if(n&1){let m=x();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),d(4,"img",6),o(),f(5,pe,2,5,"fuse-alert",7),a(6,"form",8,0)(8,"mat-form-field",9)(9,"mat-label"),l(10,"Email address"),o(),d(11,"input",10),o(),a(12,"mat-form-field",9)(13,"mat-label"),l(14,"Password"),o(),d(15,"input",11,1),a(17,"button",12),_("click",function(){v(m);let w=y(16);return I(w.type==="password"?w.type="text":w.type="password")}),f(18,ce,1,1,"mat-icon",13)(19,ue,1,1,"mat-icon",13),o(),a(20,"mat-error"),l(21," Password is required "),o()(),a(22,"div",14)(23,"mat-checkbox",15),l(24," Remember me "),o(),a(25,"a",16),l(26,"Forgot password? "),o()(),a(27,"button",17),_("click",function(){return v(m),I(s.signIn())}),f(28,fe,2,0,"span")(29,he,1,2,"mat-progress-spinner",18),o()()()()()}if(n&2){let m=y(16);i(5),c(s.showAlert?5:-1),i(),r("formGroup",s.signInForm),i(2),r("hideRequiredMarker",!0),i(3),r("formControlName","email"),i(),r("hideRequiredMarker",!0),i(3),r("formControlName","password"),i(3),c(m.type==="password"?18:-1),i(),c(m.type==="text"?19:-1),i(4),r("color","primary")("formControlName","rememberMe"),i(2),r("routerLink",k(15,de)),i(2),r("color","primary")("disabled",s.signInForm.disabled),i(),c(s.signInForm.disabled?-1:28),i(),c(s.signInForm.disabled?29:-1)}},dependencies:[q,oe,Z,J,O,W,H,$,K,X,T,V,R,B,P,te,ee,D,j,L,Q,G,ae,ne,re,ie],encapsulation:2,data:{animation:z}})}}return e})();var Le=[{path:"",component:me}];export{Le as default};
