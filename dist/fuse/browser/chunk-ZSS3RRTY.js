import{a as ne,b as re}from"./chunk-Y3MJNWGN.js";import{a as te,b as ie,c as oe}from"./chunk-FTP6EKWL.js";import{A as $,B as ee,a as R,b as V,d as T,g as q,h as B,k as z,m as g,n as O,o as W,q as H,s as J,t as K,v as X,w as Y,x as Z}from"./chunk-NOFO4MTN.js";import{$ as P,Y as j,_ as L,ba as D,ca as G}from"./chunk-ZWODD56P.js";import{n as U}from"./chunk-T5U6POZL.js";import{c as Q}from"./chunk-VIDF4ZC3.js";import{r as k,t as N,u as E}from"./chunk-JALGS62Q.js";import{$b as x,Gb as i,Mb as d,Pb as r,Qb as o,Rb as p,Vb as C,_b as y,dc as b,ec as F,fc as M,gb as t,hb as c,ic as v,jc as l,lc as S,nc as A,tb as _,ua as I,va as w,zb as f}from"./chunk-IK46I2X3.js";var se=["signInNgForm"],le=()=>["/forgot-password"];function pe(e,u){if(e&1&&(r(0,"fuse-alert",7),l(1),o()),e&2){let n=x();i("appearance","outline")("showIcon",!1)("type",n.alert.type)("@shake",n.alert.type==="error"),t(),S(" ",n.alert.message," ")}}function de(e,u){e&1&&p(0,"mat-icon",14),e&2&&i("svgIcon","heroicons_solid:eye")}function ce(e,u){e&1&&p(0,"mat-icon",14),e&2&&i("svgIcon","heroicons_solid:eye-slash")}function ue(e,u){e&1&&(r(0,"span"),l(1," Sign in "),o())}function fe(e,u){e&1&&p(0,"mat-progress-spinner",19),e&2&&i("diameter",24)("mode","indeterminate")}var ae=(()=>{class e{constructor(n,s,a,m){this._activatedRoute=n,this._authService=s,this._formBuilder=a,this._router=m,this.alert={type:"success",message:""},this.showAlert=!1}ngOnInit(){this.signInForm=this._formBuilder.group({email:["hughes.brian@company.com",[g.required,g.email]],password:["admin",g.required],rememberMe:[""]})}signIn(){this.signInForm.invalid||(this.signInForm.disable(),this.showAlert=!1,this._authService.signIn(this.signInForm.value).subscribe(()=>{let n=this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/signed-in-redirect";this._router.navigateByUrl(n)},n=>{this.signInForm.enable(),this.signInNgForm.resetForm(),this.alert={type:"error",message:"Wrong email or password"},this.showAlert=!0}))}static{this.\u0275fac=function(s){return new(s||e)(c(k),c(Q),c(X),c(N))}}static{this.\u0275cmp=_({type:e,selectors:[["auth-sign-in"]],viewQuery:function(s,a){if(s&1&&b(se,5),s&2){let m;F(m=M())&&(a.signInNgForm=m.first)}},decls:30,vars:15,consts:[["signInNgForm","ngForm"],["passwordField",""],[1,"flex","min-w-0","flex-auto","flex-col","items-center","sm:justify-center"],[1,"w-full","px-4","py-8","sm:bg-card","sm:w-auto","sm:rounded-2xl","sm:p-12","sm:shadow"],[1,"mx-auto","w-full","max-w-80","sm:mx-0","sm:w-80"],[1,"w-56","mx-auto"],["src","images/logo/ornafish-logo.png"],[1,"mt-8",3,"appearance","showIcon","type"],[1,"mt-8",3,"formGroup"],[1,"w-full",3,"hideRequiredMarker"],["id","email","matInput","",3,"formControlName"],[1,"w-full"],["id","password","matInput","","type","password",3,"formControlName"],["mat-icon-button","","type","button","matSuffix","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"mt-1.5","inline-flex","w-full","items-center","justify-between"],[1,"-ml-2",3,"color","formControlName"],[1,"text-md","font-medium","text-primary-500","hover:underline",3,"routerLink"],["mat-flat-button","",1,"ornafish-blue-button","fuse-mat-button-large","mt-6","w-full",3,"click","color","disabled"],[3,"diameter","mode"]],template:function(s,a){if(s&1){let m=C();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),p(4,"img",6),o(),f(5,pe,2,5,"fuse-alert",7),r(6,"form",8,0)(8,"mat-form-field",9)(9,"mat-label"),l(10,"Email address"),o(),p(11,"input",10),o(),r(12,"mat-form-field",11)(13,"mat-label"),l(14,"Password"),o(),p(15,"input",12,1),r(17,"button",13),y("click",function(){I(m);let h=v(16);return w(h.type==="password"?h.type="text":h.type="password")}),f(18,de,1,1,"mat-icon",14)(19,ce,1,1,"mat-icon",14),o(),r(20,"mat-error"),l(21," Password is required "),o()(),r(22,"div",15)(23,"mat-checkbox",16),l(24," Remember me "),o(),r(25,"a",17),l(26,"Forgot password? "),o()(),r(27,"button",18),y("click",function(){return I(m),w(a.signIn())}),f(28,ue,2,0,"span")(29,fe,1,2,"mat-progress-spinner",19),o()()()()()}if(s&2){let m=v(16);t(5),d(a.showAlert?5:-1),t(),i("formGroup",a.signInForm),t(2),i("hideRequiredMarker",!0),t(3),i("formControlName","email"),t(4),i("formControlName","password"),t(3),d(m.type==="password"?18:-1),t(),d(m.type==="text"?19:-1),t(4),i("color","primary")("formControlName","rememberMe"),t(2),i("routerLink",A(14,le)),t(2),i("color","primary")("disabled",a.signInForm.disabled),t(),d(a.signInForm.disabled?-1:28),t(),d(a.signInForm.disabled?29:-1)}},dependencies:[E,oe,Y,H,z,O,W,Z,J,K,B,q,R,V,T,ee,$,P,j,L,G,D,re,ne,ie,te],encapsulation:2,data:{animation:U}})}}return e})();var je=[{path:"",component:ae}];export{je as default};
